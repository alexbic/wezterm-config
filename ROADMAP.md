# 🗺️ WEZTERM CONFIG PROJECT ROADMAP

┌─────────────────────────────────────────────────────────────────┐
│                     🛡️ СТРАТЕГИЯ РЕЛИЗОВ                      │
│                        (НЕ ИЗМЕНЯЕТСЯ)                         │
└─────────────────────────────────────────────────────────────────┘

## 🎯 RELEASE 1.0 - ЕДИНЫЙ ИНТЕРФЕЙС УПРАВЛЕНИЯ

### 🏆 ГЛАВНАЯ ЦЕЛЬ
**Единый интерфейс настройки** - одна клавиша доступа ко всем функциям конфигурации для новых пользователей.

### 📋 КЛЮЧЕВЫЕ БЛОКИ RELEASE 1.0:
- [🟡] **F9 Локализация** - система управления языками (95% готова)
 - [x] Интерфейс F9 ✅
 - [x] Создание локалей ✅
 - [x] Переключение языков ✅
 - [🟡] Автоперевод (нужно доработать логику кавычек)
- [ ] **F10 Настройки** - объединенный интерфейс всех конфигураций
 - [x] Настройки локализации (F9) ✅
 - [x] Настройки отладки модулей (Shift+F12) ✅
 - [ ] Настройки горячих клавиш
 - [ ] Настройки ассистента AI
- [ ] **Визуальное оформление** - предустановленные темы и схемы
- [ ] **F1-F12 Документация** - полное описание всех горячих клавиш
- [ ] **Система туториалов** - помощь для новых пользователей
- [ ] **Автодиагностика** - обнаружение проблем конфигурации

## 🚀 RELEASE 2.0 - ИНТЕГРАЦИЯ С AI АССИСТЕНТАМИ
- [ ] **Claude API интеграция** - умные подсказки и диагностика
- [ ] **AI автоперевод** - автоматический перевод локалей
- [ ] **Умная настройка** - AI рекомендации по конфигурации

┌─────────────────────────────────────────────────────────────────┐
│                   📋 ИСТОРИЯ РАЗРАБОТКИ                        │
│                  (ПОПОЛНЯЕТСЯ ПО ЧАТАМ)                        │
└─────────────────────────────────────────────────────────────────┘

## ✅ ВЫПОЛНЕНО В ЧАТЕ #29:
**🎯 Цель:** Восстановление централизованной иконочной системы
- [x] **Массовые исправления синтаксиса** - все environment.icons.t."key" → environment.icons.t.key
- [x] **config/environment/init.lua** - добавлен экспорт icons
- [x] **F9 интерфейс работает** без синтаксических ошибок
- [x] **Новые паттерны ошибок** задокументированы в ASSISTANT_INSTRUCTIONS
- [x] **Правила блоков команд** систематизированы

**📖 Для README:** Система иконок централизована, F9 локализация базово работает

## ✅ ВЫПОЛНЕНО В ЧАТЕ #30:
**🎯 Цель:** Тестирование и диагностика F9 автолокализации
- [x] **F9 интерфейс протестирован** - корректно показывает языки, переключается
- [x] **create-locale.sh функционален** - создает файлы локалей корректно
- [x] **Кэш перестраивается** - метаданные и current_language синхронизированы
- [x] **Базовая система работает** - создание файлов, перестройка кэша

**❌ Критические проблемы выявлены:**
- auto-translate.sh зависает при вызове translate shell
- F9 создает en.lua с русскими текстами (нет автоперевода)
- Интерфейс остается русским после переключения

**📖 Для README:** F9 базовая функциональность работает, требует доработки автоперевода

## 🟡 ВЫПОЛНЕНО В ЧАТЕ #31:
**🎯 Цель:** Решение проблем автоперевода F9 локализации
- [x] **Диагностика проблем автоперевода** - найдены корни проблем с кавычками
- [x] **Архитектурная очистка** - удалены дубликаты из ru.lua (20 строк мусора)
- [x] **Кроссплатформенность** - создан универсальный скрипт для macOS/Linux/Windows
- [x] **Логика метаданных исправлена** - корректные locale и name языков
- [🟡] **Логика кавычек** - выявлена проблема, но требует доработки

**🔧 Технические достижения:**
- Создан create-locale-universal.sh с определением платформы
- Исправлено определение исходного языка (regex с [[:space:]])
- Очищен эталонный ru.lua от 20 дубликатов "ДУБЛИКАТ УДАЛЕН"
- Выявлена проблема: translate-shell возвращает разные форматы кавычек

**❌ Нерешенные проблемы:**
- Двойные кавычки в переводах: `""текст"","`
- Ошибки синтаксиса Lua из-за неправильной обработки кавычек

**📖 Для README:** F9 архитектурно очищена, проблемы автоперевода диагностированы

┌─────────────────────────────────────────────────────────────────┐
│                  🎯 ПЛАН РАБОТ ЧАТ #32                         │
│                     (ДЕТАЛЬНЫЙ ПЛАН)                           │
└─────────────────────────────────────────────────────────────────┘

## 🔴 КРИТИЧЕСКИЕ ЗАДАЧИ ЧАТ #32:

### 1️⃣ ФИНАЛЬНОЕ ИСПРАВЛЕНИЕ ЛОГИКИ КАВЫЧЕК F9
**🎯 Цель:** Довести F9 автолокализацию до 100% работоспособности

**📋 Конкретные шаги:**
- [ ] **Исправить логику очистки значений**
 - Убирать ВСЕ виды кавычек перед переводом: `"`, `'`, `„`, `"`, `«`, `»`
 - Добавить очистку от внутренних кавычек-помех
 - Тестировать на проблемных значениях: `"окно"`, `"ВЫКЛ"`

- [ ] **Создать финальный рабочий скрипт**
 - Интегрировать исправления в create-locale-final-fixed.sh
 - Протестировать полный цикл: ru → en → de → fr
 - Проверить синтаксис luac -p для всех созданных файлов

- [ ] **Интеграция в F9 интерфейс**
 - Заменить вызов старого скрипта в config/dialogs/locale-manager.lua
 - Добавить прогресс-бар в реальном времени
 - Протестировать полный F9 workflow с автопереводом

### 2️⃣ ОЧИСТКА И ОПТИМИЗАЦИЯ ПРОЕКТА
**📋 Задачи:**
- [ ] **Удаление устаревших файлов**
 - Удалить auto-translate.sh (устарел)
 - Удалить промежуточные скрипты create-locale-*.sh
 - Переименовать финальный скрипт → create-locale.sh

- [ ] **Очистка от мусора**
 - Найти все файлы с "ДУБЛИКАТ УДАЛЕН" и очистить
 - Проверить consistency всех .lua файлов
 - Запустить scripts/cleanup_project.sh

### 3️⃣ ТЕСТИРОВАНИЕ МНОЖЕСТВЕННЫХ ЯЗЫКОВ
**📋 Задачи:**
- [ ] **Создание полного набора локалей**
 - en.lua (английский)
 - de.lua (немецкий) 
 - fr.lua (французский)
 - es.lua (испанский)

- [ ] **Тестирование переключения языков**
 - Проверить F9 → создание → переключение → интерфейс на новом языке
 - Убедиться что кэш правильно перестраивается
 - Протестировать на реальном WezTerm

## 🟡 СРЕДНИЙ ПРИОРИТЕТ ЧАТ #32:

### 4️⃣ УЛУЧШЕНИЕ DEBUG СИСТЕМЫ
- [ ] **Убрать спам логов при старте** - 26 одинаковых сообщений
- [ ] **Показывать имена переменных** - "LANG = ru_RU.UTF-8" вместо "Переменная окружения установлена"

### 5️⃣ ПОДГОТОВКА К F10 ЦЕНТРАЛЬНОМУ МЕНЕДЖЕРУ
- [ ] **Архитектурное планирование F10** - единый центр управления
- [ ] **Перенос F9 в F10** - локализация как подменю
- [ ] **Перенос Shift+F12 в F10** - отладка как подменю

## 🟢 НИЗКИЙ ПРИОРИТЕТ ЧАТ #32:
- [ ] **Workspace creation диагностика** - проблемы сохранения сессий
- [ ] **Документация F1-F12** - создание справки по горячим клавишам

## 📊 ОЖИДАЕМЫЕ РЕЗУЛЬТАТЫ ЧАТ #32:

**✅ МИНИМАЛЬНЫЙ УСПЕХ:**
- F9 автолокализация работает без ошибок синтаксиса
- Создание en.lua и de.lua проходит успешно
- Прогресс-бар интегрирован в F9

**🎯 ЦЕЛЕВОЙ РЕЗУЛЬТАТ:**
- F9 полностью функциональна с 4+ языками
- Проект очищен от мусора и устаревших файлов
- Готова архитектура для F10 центрального менеджера

**🚀 МАКСИМАЛЬНЫЙ УСПЕХ:**
- F10 центральный менеджер начат
- F9 перенесена в F10 как подменю
- Debug система оптимизирована

---
*Обновлено в чате #31 - детализирован план чата #32, добавлены конкретные шаги исправления логики кавычек*

## 🎯 ДОЛГОСРОЧНЫЙ ПЛАН F10 - ЕДИНЫЙ ЦЕНТР УПРАВЛЕНИЯ

### Архитектура native WezTerm решения:

    📋 F10 - SETTINGS MANAGER
    ├── 🌍 Локализация и язык (перенос F9)
    ├── 🪲 Модули отладки (перенос Shift+F12)
    ├── ⌨️  Горячие клавиши
    ├── 🎨 Внешний вид и темы
    ├── 🤖 AI Ассистент (v2.0)
    ├── ⚙️  Глобальные настройки
    ├── 💾 Экспорт/Импорт конфигурации
    └── ❓ Справка F1-F12

### Файловая структура:

    config/dialogs/
    ├── settings-manager.lua     # F10 главное меню
    ├── locale-settings.lua      # Настройки локализации
    ├── debug-settings.lua       # Настройки отладки
    ├── appearance-settings.lua  # Темы и оформление
    ├── keybind-settings.lua     # Горячие клавиши
    ├── ai-settings.lua          # AI настройки (v2.0)
    └── global-settings.lua      # Переменные из globals.lua

### Этапы реализации:
1. Завершение F9 (чат #32)
2. Базовое F10 меню (чат #33)
3. Перенос F9 → locale-settings.lua (чат #33-34)
4. Перенос Shift+F12 → debug-settings.lua (чат #34)
5. Реализация остальных модулей (чат #35+)
6. Документация F1-F12 (чат #36+)
